Комментарий по схеме.

API(notification_service) Принимает данные от сервисов для уведомлений и оправляет в очередь.
Event Worker обработчик нотификационных событий. Обрабатывает сообщения из очереди, определяет тип, наполняет данными, 
создает шаблон и нотификации в mongodb, мгновенные сообщения сразу направляет в очередь на отправку (Sender Worker)
Scheduler Worker проверяет в mongo готовность сообщений к отправке и направляет их в очередь на отправку
Sender Worker получает сообщения из очереди и осуществляет их отправку пользователю/пользователям
Sender Worker Regular cервис для отправки регуляных уведомлений (можно учесть в общем сервисе можно сделать отдельный)